import spock.lang.Unroll

class BuildVersionComparatorSpec extends spock.lang.Specification {

    BuildVersionComparator comparator = new BuildVersionComparator()

    @Unroll()
    def "Comparing build versions '#first' and '#second' should be #compare"() {

        expect:
        comparator.compare(first, second) == compare

        where:
        first            | second           | compare
        "165.1.177.15.9" | "165.1.177.15.9" | 0
        "165.1.177.15.9" | "16.1.177.15.9"  | 1
        "1.0.178.14.10"  | "1.0.178.14.9"   | 1
        "15.1.178.14.9"  | "3.0.177.13.8"   | 1
        "1.0.612.31.9"   | "0.1.1.1.10"     | 1
        "1.0.612.31.9"   | "1.0.612.31.9"   | 0
        "1.0.178.14.9"   | "1.0.178.14.10"  | -1
        "1.1.178.14.9"   | "1.0.177.13.8"   | 1
        "1.1.178.14.9"   | "1.0.178.14.9"   | 1
        "1.1.178.14.9"   | "2.0.177.13.8"   | -1
        "1.0.0.0.0.1"    | "1"              | 1
        "1.0.0.0.0.1"    | "1.0.0.0.0.1"    | 0
        "0.1.1.2.49"     | "1.0.0"          | -1
        "0.1.1.2"        | "1.0.0"          | -1
        "0.0.1"          | "1.0.0"          | -1
        "1.0.0"          | "0.0.1"          | 1
        "0.1.1"          | "1.0.0"          | -1
        "1.0.0"          | "1"              | 0
        "1.0.0"          | "1.0.0"          | 0
        "1.0"            | "1"              | 0
        "1.0"            | "1.0"            | 0
        "210"            | "4"              | 1
        "11"             | "3"              | 1
        "1"              | "1.1"            | -1
        "1"              | "1.1.2"          | -1
        "1"              | "2"              | -1
        "2"              | "1"              | 1
    }
}

